{
  "regime_switching_rules": [
    {
      "rule_id": "regime_uptrend_to_downtrend",
      "from_regime": "uptrend",
      "to_regime": "downtrend",
      "conditions": {
        "trend_confidence_drop": 0.3,
        "price_change_threshold": -0.05,
        "volume_confirmation": true,
        "technical_indicators": ["rsi_overbought", "macd_negative_cross"]
      },
      "optimal_strategies": {
        "exit": ["momentum", "breakout"],
        "enter": ["mean_reversion", "vwap"]
      },
      "timing_rules": {
        "immediate_switch": false,
        "confirmation_period": 3,
        "gradual_transition": true,
        "risk_reduction_first": true
      }
    },
    {
      "rule_id": "regime_downtrend_to_uptrend",
      "from_regime": "downtrend", 
      "to_regime": "uptrend",
      "conditions": {
        "trend_confidence_increase": 0.4,
        "price_change_threshold": 0.03,
        "volume_confirmation": true,
        "technical_indicators": ["rsi_oversold_recovery", "macd_positive_cross"]
      },
      "optimal_strategies": {
        "exit": ["mean_reversion", "vwap"],
        "enter": ["momentum", "breakout"]
      },
      "timing_rules": {
        "immediate_switch": false,
        "confirmation_period": 2,
        "gradual_transition": true,
        "position_scaling": true
      }
    },
    {
      "rule_id": "regime_sideways_to_trending",
      "from_regime": "sideways",
      "to_regime": ["uptrend", "downtrend"],
      "conditions": {
        "volatility_breakout": 0.02,
        "trend_strength_threshold": 0.6,
        "volume_surge": 1.5,
        "range_breakout": true
      },
      "optimal_strategies": {
        "exit": ["range_trading", "mean_reversion"],
        "enter": ["momentum", "breakout", "trend_following"]
      },
      "timing_rules": {
        "immediate_switch": true,
        "confirmation_period": 1,
        "aggressive_positioning": true,
        "stop_loss_adjustment": true
      }
    }
  ],
  "regime_detection_thresholds": {
    "trend_strength_minimum": 0.5,
    "confidence_minimum": 0.6,
    "volatility_threshold": 0.015,
    "volume_confirmation_factor": 1.2,
    "price_momentum_threshold": 0.02
  },
  "switching_constraints": {
    "minimum_hold_period": 60,
    "maximum_switches_per_day": 5,
    "cooling_off_period": 30,
    "position_size_limits": {
      "max_increase_per_switch": 0.2,
      "max_decrease_per_switch": 0.5
    }
  },
  "risk_management_rules": {
    "stop_switching_conditions": {
      "consecutive_failures": 3,
      "daily_loss_limit": 0.05,
      "volatility_spike": 0.3
    },
    "emergency_rules": {
      "market_crash_threshold": -0.1,
      "correlation_breakdown": 0.9,
      "liquidity_crisis_indicators": ["bid_ask_spread_widening", "volume_drop"]
    }
  },
  "performance_optimization": {
    "adaptive_thresholds": true,
    "learning_period": 30,
    "success_rate_adjustment": true,
    "dynamic_confirmation_periods": true
  }
}
